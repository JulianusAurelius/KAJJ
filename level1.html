<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        canvas {
        border: 1px solid black;
    }
    h3 {
        height: 15px;
        text-align: center;
    }
    body {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        background: #696969;
    }
    #instr {
        border: 3px solid white;
        border-radius: 20px;
        background-color: #EFEFEF;
        font-size: 20px;

    }
    #title {
      color: white;
      font-size: 40px;

    }
    #instr p{
      margin-left: 10px;
      margin-right: 10px;
      min-height: 5px;
    }
    .ide p{
      color: white;
    }
    .ide {
        padding=20px;
    }
    .play_h{
      font-weight: bold;
    }
    .enem_h{
      font-weight: bold;
    }
    </style>
    <script src="./script.js"></script>
    <link rel="stylesheet" type="text/css" href="lvl1.css">
    <title>Document</title>
</head>
<body>
    <head>
    
    </head>
    <body>
        <div id="instr">
            <p>In this exercise, you need to make variables <span class="codeblock">x</span> and <span class="codeblock">y</span> for your player. The grid goes 1, 2, 3 and so on, from the bottom
            left corner up, all the way to 10. Set your player to anywhere the enemy isn't to see your player!</p>
        </div>
        <div id="game">
            <h3 id="title">Level 1</h3>
            <canvas id="canvas" width="400" height="400"></canvas>
        </div>

        <div class="ide">
            <!-- x=6;y=6;title='t';damageOff=false; -->
            <textarea id="code" cols="35" rows="30" placeholder="Write your code here!"></textarea>
            <button id="button"><strong>Run</strong></button>
            <p id="play_h_p" >Player Health: <span id="play_h">10</span> hp</p>
            <p id="enem_h_p">Enemy Health: <span id="enem_h">Invincible</span></p>
        </div>


    </body>

    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var knight = 'knight-retry3.png';
        var knightAttack = 'knight2-retry2.png';
        var knightHurt = 'knight-hurt2-retry2.png';
        var zombie = 'zombie1-retry2.png';
        var zombieHurt = 'zombie1-hurt-retry2.png';
        var single_tile = 'back-retry2.png';

        var tile = new Image();
        tile.src = single_tile;
        function drawTiles()
        {
            for(var i = 0; i < canvas.width; i+=canvas.width/10)
            {
                for(var j = 0; j < canvas.height; j+=canvas.height/10)
                {
                    ctx.drawImage(tile,i,j,canvas.width/10,canvas.height/10);
                }
            }
        }

        tile.onload = function()
        {
            drawTiles();
        };
        let x = undefined;
        let y = undefined;

        let player_x = x;
        let player_x2 = canvas.width/10;
        let player_y = y;
        let player_y2 = canvas.height/10;
        let player_hp = 10;
        let player_damage = 1;
        let gamePlay = false;

        var knight_i = new Image();
        knight_i.src = knight;

        var knightHurt_i = new Image();
        knightHurt_i.src = knightHurt;

        var knightAttack_i = new Image();
        knightAttack_i.src = knightAttack;

        let currPlayerImage = knight_i;

        knight_i.onload = function () {

            ctx.drawImage(currPlayerImage,player_x,player_y,player_x2,player_y2);
        };


        let enemy_x = canvas.width - canvas.width/10*3;
        let enemy_x2 = canvas.width/10;
        let enemy_y = canvas.height - canvas.height/10*3;
        let enemy_y2 = canvas.height/10;
        let zombie_hp = 10;
        let enemyVulnerable = true;
        var zombie_i = new Image();
        zombie_i.src = zombie;

        zombie_i.onload = function () {

            ctx.drawImage(zombie_i,enemy_x,enemy_y,enemy_x2,enemy_y2);
        };

        var zombieHurt_i = new Image();
        zombieHurt_i.src = zombieHurt;
        let attackFlag = false;
        currEnemyImage = zombie_i;
        let turnsToEnemyMove = 3;
        let enemyDead = false;
        let enemyMoveList = [0,0,1,1,2,2,3,3];


        $("#code").click(function()
        {
            gamePlay = false;
        });
        $("#game").click(function()
        {
            gamePlay = true;
        });
        $('#button').click(function(){
            if (goal1())
            {
                if (goal2())
                {
                    if (goal3())
                    {

                    }
                }
            }
        });

    </script>
</body>
</html>
